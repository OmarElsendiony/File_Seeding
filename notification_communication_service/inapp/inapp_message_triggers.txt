BUG DESCRIPTION
===============

BUG: Wrong comparison (== instead of !=)

BUGGY LINE:
    if key not in trigger or trigger[key] == value:

FIXED LINE:
    if key not in trigger or trigger[key] != value:

EXPLANATION:
Condition evaluation inverted
Result is used in return value

IMPACT: inapp message triggers produces incorrect results
PRIORITY: P0
