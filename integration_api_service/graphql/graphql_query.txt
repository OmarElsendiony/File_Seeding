BUG DESCRIPTION
===============

BUG: Inverted logic

BUGGY LINE:
    if depth == 0:

FIXED LINE:
    if depth != 0:

EXPLANATION:
Brace balance check backwards
Result is used in return value

IMPACT: graphql query produces incorrect results
PRIORITY: P0
